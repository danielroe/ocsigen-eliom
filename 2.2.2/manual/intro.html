<html><head><title>Introduction</title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="text/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body class="intro eliom"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href=".././../../" class="ocsimore_phrasing_link"><img src=".././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Eliom</p><div class="mainmenu"><p class="mainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p class="mainmenu-current"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href=".././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href=".././../../deriving/" class="ocsimore_phrasing_link">deriving</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href=".././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href=".././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href=".././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href=".././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href=".././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href=".././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Eliom's Reference manual</h1><h2><a href="intro" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server side concepts</h2><h3>Services</h3><h4><a href="services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="outputs" class="ocsimore_phrasing_link">Writing service handlers</a></h4><h4><a href="links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="config" class="ocsimore_phrasing_link">Configuring and running Eliom</a></h3><h2>Client-server application</h2><h3><a href="client" class="ocsimore_phrasing_link">Applications</a></h3><h3><a href="client-communication" class="ocsimore_phrasing_link">Client/server communication</a></h3><h3><a href="client-compiling" class="ocsimore_phrasing_link">Compilation process</a></h3><h2>Miscellaneous</h2><h3><a href="html" class="ocsimore_phrasing_link">Writing HTML</a></h3><h3><a href="security" class="ocsimore_phrasing_link">Security considerations</a></h3><h3><a href="wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h3><a href="examples" class="ocsimore_phrasing_link">Examples</a></h3><h1>Eliom client API</h1><h2><a href=".././api/client/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href=".././api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2>Content and form creation</h2><h3><a href=".././api/client/Eliom_content.Html5" class="ocsimore_phrasing_link">Eliom_content.Html5</a></h3><h3><a href=".././api/client/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href=".././api/client/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Client/server communication</h2><h3><a href=".././api/client/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href=".././api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href=".././api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h2>Index</h2><h3> <span><a href=".././api/client/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/client/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/client/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/client/index_module_types">Index of module types</a></span></h3><h1>Server API</h1><h2><a href=".././api/server/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href=".././api/server/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href=".././api/server/Eliom_config" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href=".././api/server/Eliom_request_info" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2><a href=".././api/server/Eliom_reference" class="ocsimore_phrasing_link">Eliom_reference</a></h2><h2><a href=".././api/server/Eliom_state" class="ocsimore_phrasing_link">Eliom_state</a></h2><h2>Content and form creation</h2><h3><a href=".././api/server/Eliom_content.Html5" class="ocsimore_phrasing_link">Eliom_content.Html5</a></h3><h3><a href=".././api/server/Eliom_content.Xhtml" class="ocsimore_phrasing_link">Eliom_content.Xhtml</a></h3><h3><a href=".././api/server/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href=".././api/server/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Services creation</h2><h3><a href=".././api/server/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href=".././api/server/Eliom_parameter" class="ocsimore_phrasing_link">Eliom_parameter</a></h3><h3><a href=".././api/server/Eliom_registration" class="ocsimore_phrasing_link">Eliom_registration</a></h3><h3><a href=".././api/server/Eliom_registration.Html5" class="ocsimore_phrasing_link">Eliom_registration.Html5</a></h3><h3><a href=".././api/server/Eliom_registration.Action" class="ocsimore_phrasing_link">Eliom_registration.Action</a></h3><h3><a href=".././api/server/Eliom_registration.Ocaml" class="ocsimore_phrasing_link">Eliom_registration.Ocaml</a></h3><h3><a href=".././api/server/Eliom_registration.App" class="ocsimore_phrasing_link">Eliom_registration.App</a></h3><h2>Client/server communication</h2><h3><a href=".././api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href=".././api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href=".././api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Extensions</h2><h3><a href=".././api/server/Eliom_atom" class="ocsimore_phrasing_link">Eliom_atom</a></h3><h3><a href=".././api/server/Eliom_openid" class="ocsimore_phrasing_link">Eliom_openid</a></h3><h2>Index</h2><h3> <span><a href=".././api/server/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/server/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/server/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/server/index_module_types">Index of module types</a></span></h3></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value=".././../1.1.0/manual/intro">1.1.0</option><option value=".././../1.2.2/manual/intro">1.2.2</option><option value=".././../1.3.4/manual/intro">1.3.4</option><option value=".././../2.0.2/manual/intro">2.0.2</option><option value=".././../2.1.1/manual/intro">2.1.1</option><option value=".././../2.2.2/manual/intro" selected="selected">2.2.2</option><option value=".././../3.0/manual/intro">3.0</option><option value=".././../4.2/manual/intro">4.2</option><option value=".././../5.0/manual/intro">5.0</option><option value=".././../6.x/manual/intro">6.x</option><option value=".././../dev/manual/intro">dev</option></select><nav class="how-doctree"><h1>Eliom's Reference manual</h1><h2><a href="intro" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server side concepts</h2><h3>Services</h3><h4><a href="services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="outputs" class="ocsimore_phrasing_link">Writing service handlers</a></h4><h4><a href="links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="config" class="ocsimore_phrasing_link">Configuring and running Eliom</a></h3><h2>Client-server application</h2><h3><a href="client" class="ocsimore_phrasing_link">Applications</a></h3><h3><a href="client-communication" class="ocsimore_phrasing_link">Client/server communication</a></h3><h3><a href="client-compiling" class="ocsimore_phrasing_link">Compilation process</a></h3><h2>Miscellaneous</h2><h3><a href="html" class="ocsimore_phrasing_link">Writing HTML</a></h3><h3><a href="security" class="ocsimore_phrasing_link">Security considerations</a></h3><h3><a href="wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h3><a href="examples" class="ocsimore_phrasing_link">Examples</a></h3><h1>Eliom client API</h1><h2><a href=".././api/client/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href=".././api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2>Content and form creation</h2><h3><a href=".././api/client/Eliom_content.Html5" class="ocsimore_phrasing_link">Eliom_content.Html5</a></h3><h3><a href=".././api/client/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href=".././api/client/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Client/server communication</h2><h3><a href=".././api/client/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href=".././api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href=".././api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h2>Index</h2><h3> <span><a href=".././api/client/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/client/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/client/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/client/index_module_types">Index of module types</a></span></h3><h1>Server API</h1><h2><a href=".././api/server/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href=".././api/server/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href=".././api/server/Eliom_config" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href=".././api/server/Eliom_request_info" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2><a href=".././api/server/Eliom_reference" class="ocsimore_phrasing_link">Eliom_reference</a></h2><h2><a href=".././api/server/Eliom_state" class="ocsimore_phrasing_link">Eliom_state</a></h2><h2>Content and form creation</h2><h3><a href=".././api/server/Eliom_content.Html5" class="ocsimore_phrasing_link">Eliom_content.Html5</a></h3><h3><a href=".././api/server/Eliom_content.Xhtml" class="ocsimore_phrasing_link">Eliom_content.Xhtml</a></h3><h3><a href=".././api/server/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href=".././api/server/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Services creation</h2><h3><a href=".././api/server/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href=".././api/server/Eliom_parameter" class="ocsimore_phrasing_link">Eliom_parameter</a></h3><h3><a href=".././api/server/Eliom_registration" class="ocsimore_phrasing_link">Eliom_registration</a></h3><h3><a href=".././api/server/Eliom_registration.Html5" class="ocsimore_phrasing_link">Eliom_registration.Html5</a></h3><h3><a href=".././api/server/Eliom_registration.Action" class="ocsimore_phrasing_link">Eliom_registration.Action</a></h3><h3><a href=".././api/server/Eliom_registration.Ocaml" class="ocsimore_phrasing_link">Eliom_registration.Ocaml</a></h3><h3><a href=".././api/server/Eliom_registration.App" class="ocsimore_phrasing_link">Eliom_registration.App</a></h3><h2>Client/server communication</h2><h3><a href=".././api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href=".././api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href=".././api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Extensions</h2><h3><a href=".././api/server/Eliom_atom" class="ocsimore_phrasing_link">Eliom_atom</a></h3><h3><a href=".././api/server/Eliom_openid" class="ocsimore_phrasing_link">Eliom_openid</a></h3><h2>Index</h2><h3> <span><a href=".././api/server/index_types">Index of types</a></span></h3><h3> <span><a href=".././api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href=".././api/server/index_values">Index of values</a></span></h3><h3> <span><a href=".././api/server/index_modules">Index of modules</a></span></h3><h3> <span><a href=".././api/server/index_module_types">Index of module types</a></span></h3></nav></nav><article class="rightcol"><h1>Introduction</h1><p><em>This document is the Eliom manual, where you will find an explanation
of each concepts provided by Eliom.
If you are looking for a more didactic introduction,
have a look at the <a href=".././../../tuto/" class="ocsimore_phrasing_link">tutorial of the Ocsigen project</a>
which is a good starting point for beginners.</em>
</p><p>In the past few years, the Web evolved from something quite static
to a powerful platform, able to run very dynamic programs.
Recent browsers make possible a very new kind of applications,
but most Web developers still use the same old Web frameworks
that are not adapted to this evolution.
</p><p>We think these new possibilities deserve to rethink Web
programming techniques.
The goal of Eliom (and other projects of the Ocsigen framework)
is to propose a new way to write
traditional Web sites or sophisticated client/server Web applications.
It simplifies the development of complex applications by:
</p><dl><dt> providing high level expressive concepts
</dt><dd> that fit very well the needs of Web developers. This allows to program complex behaviour in very few lines of code.
</dd><dt> helping the programmer to write safe and bug free applications.
</dt><dd> To improve security, it takes in charge itself many security issues. To reduce the number of bugs, it uses the very powerful typing system of the OCaml language to check many properties of the application at compile time: well formedness of HTML pages, types of page parameters, absence of broken links, etc.
</dd></dl><p>Eliom does not restrict the possibilities offered by the technology.
In particular, the programmer can choose exactly the URL and parameter
names he wants. Eliom also produces clean HTML code that can be parsed
by search engines (even for client/server applications).
</p><p>Eliom is not a language but is using the OCaml language.
This makes possible to use any existing library you want.
</p><p>Eliom Web sites are written as OCaml modules (cma or cmxs),
that will be loaded as a plugin into the Ocsigen server.
</p><h2>Services</h2><p>Pages are generated by <em>services</em>, which are some kind of functions
that are called when you click on a link or send data through a form in
a Web page. Services can be associated to URLs. Eliom's
<em>service identification mechanism</em> (that is: the way Eliom chooses the 
service to be executed) is actually much more sophisticated.
It is using many different criteria, like the URL, but also
special parameters, the HTTP method used (GET or POST),
parameters names, the session, etc.
</p><p>Services usually return HTML pages, but you can also choose to return
files, redirections, actions (that is: just perform a side effect on
server side and redraw current page), applications, etc.
</p><p>There are even several ways to generate HTML. You can send it as raw text
(as in most Web programming frameworks). But we prefer to check at compile
time that every page generated will respect the recommendation of the W3C.
For this we are using the TyXML module (or, if you prefer, the OCamlDuce
compiler, but this is not compatible with client/server Eliom applications).
</p><p>When defining a service, you must specify the names and types of the
parameters it expects (in the URL or in the body of the HTTP request).
Eliom will automatically check parameters and translate them to the
right OCaml type (even for complex types like list or sets).
The OCaml compiler checks that the parameters you put in links have
the right type (w.r.t the service). It also checks that your forms
correspond to the service to which they are associated. For example
if your form contains a radio button, the service must expect a
boolean value.
</p><p>Services can be created dynamically: for example you can create
new services that depend on previous interaction with the user
(form data for example). This is equivalent to what is usually called
<em>continuation based Web programming</em>. This makes possible for example
to implement several step forms very easily (like booking a plane ticket).
</p><p><span><a href=".././manual/services"> More information... </a></span>
</p><h2>Sessions and server side state</h2><p>Eliom also have a very sophisticated session mechanism.
Sessions are a common pattern in Web programming allowing
to store some data (a state) on server side for each browser.
This is used for example to recognize connected users,
or to store a shopping basket. This
is usually implemented by recording a session identifier in a browser cookie.
With Eliom, session data are stored in <em>Eliom references</em>, which are some
kind of reference whose value depends on the session (the session identifier
sent in the cookie).
</p><p>But you can choose other <em>scope</em> than &quot;session&quot; for Eliom references: 
</p><ul><li> it is also possible to define references with scope <em>&quot;client process&quot;</em>
(which corresponds to a tab of your browser)
(if you are using client side features). For example if you are implementing
a game, you can have several instances of the game in several tabs. The score
is stored on server side in an Eliom references with scope &quot;client process&quot;.
</li><li> Eliom also provide a scope <em>&quot;session group&quot;</em>. This allows to group
together for example all sessions belonging to the same user.
Use this for example if you want to share the shopping basket
between several devices (like my laptop and my smartphone...).
</li><li> There is also a scope <em>&quot;request&quot;</em> to store data during the
generation of a page.
</li></ul><p><span><a href=".././manual/state"> More information... </a></span>
</p><h2>Client/server applications</h2><p>Eliom applications are applications distributed between a server and a browser.
An instance of the application is running in a tab of the browser and
can communicate with the server.
The full application is written in OCaml, as a single program,
with a special syntax to
distinguish between server side and client side code.
Client side code is compiled to Javascript, using the Js_of_ocaml
compiler, to be executed by the browser.
</p><p>It is possible to use on client side values defined in server side code.
Communication between the server and the client is taking in charge
by Eliom automatically. The use of the same language on both sides
makes very easy to exchange data.
</p><p>It is possible to have a client side Eliom program and keep the traditional
Web interaction (with URLs, links, forms, bookmarks, and back button).
When you click on a link, the client side program <em>does not stop!</em>
Thus:
</p><ul><li> You can keep a state on client side during all the duration of
the visit on the Website.
</li><li> You can set bookmarks corresponding to some states of the client side
program.
</li><li> Part of the page can persist after loading a new page.
</li><li> If you are listening music or watching a video, it does not stop
when you change page!
</li></ul><p><span><a href=".././manual/client"> More information... </a></span></p></article></div></div></body></html>
